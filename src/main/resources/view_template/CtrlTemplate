package ${packageName};

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;
import com.cloud.common.base.BaseController;
import com.cloud.common.webcomm.ReqEntity;
import com.alibaba.fastjson.JSONObject;
import com.cloud.common.complexquery.QueryExample;
import java.util.*;
${importList}

/**
 * ${entityName}Ctrl 控制层方法
 * @author lijun
 */
@RestController
public class ${entityName}Ctrl extends BaseController {

    @Autowired
    private ${inftServiceName} ${implServiceName};

  /**
   * ${entityName} 根据实体对象查询列表
   * @return
   * @throws Exception
   */
   @PostMapping(value = "/${entityObj}/list")
   public String get${entityName}List(@RequestBody ReqEntity reqEntity) throws Exception {
       ${entityName} ${entityObj} = JSONObject.parseObject(reqEntity.getReqBody().toJSONString(), ${entityName}.class);
       JSONObject resp = ${implServiceName}.get${entityName}ListByPage(${entityObj});
       return formatResponseParams(EXEC_OK,resp);
   }

   /**
    * 复杂查询
    * @return
    * @throws Exception
    */
   @PostMapping(value = "/${entityObj}/criteria/list")
   public String get${entityName}ListByExample(@RequestBody ReqEntity reqEntity) throws Exception {
       ${entityName} ${entityObj} = JSONObject.parseObject(reqEntity.getReqBody().toJSONString(), ${entityName}.class);
       QueryExample queryExample = new QueryExample();
       JSONObject resp = ${entityObj}Service.get${entityName}ListExampleByPage(queryExample);
       return formatResponseParams(EXEC_OK, resp);
   }


}
