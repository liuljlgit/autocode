package ${servicePackageOutPath}.impl;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import com.cloud.common.complexquery.QueryExample;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import java.util.*;
import org.springframework.util.CollectionUtils;
import com.cloud.common.constant.IConst;
import org.springframework.cache.annotation.*;
import org.springframework.transaction.annotation.Transactional;
import org.springframework.data.redis.core.RedisTemplate;
import java.util.stream.Collectors;
import com.alibaba.fastjson.JSONObject;
import com.cloud.common.utils.HashUtil;
import ${inftServiceFullPath};
import ${inftDaoFullPath};
import ${entityFullPath};

/**
 * I${entityName}Service service接口类
 * @author lijun
 */
@Service("${implServiceName}")
public class ${entityName}ServiceImpl implements ${inftServiceName}{

    private static final Logger logger = LoggerFactory.getLogger(${entityName}ServiceImpl.class);

    @Autowired
    private ${inftDaoName} ${implDaoName};

    /**
     * 根据主键获取对象
     * @param ${entityId}
     * @return
     * @throws Exception
     */
    @Override
    public ${entityName} load${entityName}ByKey(${entityIdType} ${entityId},Long key) throws Exception {
        if(Objects.isNull(${entityId})){
            throw new Exception("请输入要获取的数据的ID");
        }
        String tableName = HashUtil.hashTableName("${tablename}", 5, key);
        ${entityName} ${entityObj} = ${entityObj}Dao.load${entityName}ByKey(${entityId},tableName);
        if(Objects.isNull(${entityObj})){
            throw new Exception("没有符合条件的记录！") ;
        }
        return ${entityObj};
    }

}
